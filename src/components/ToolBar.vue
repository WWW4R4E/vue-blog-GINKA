<template>
    <div class="toolbar">
        <div v-for="(section, sectionIndex) in toolbarSections" :key="sectionIndex" class="toolbar-section">
            <button class="toolbar-button" v-for="(button, buttonIndex) in section.buttons" :key="buttonIndex"
                :aria-label="button.label" type="button" :disabled="button.disabled" @click="handleButtonClick(button)">
                <span>
                    <svg v-html="button.icon" width="24" height="24" fill="currentColor"></svg>
                </span>
                <span class="toolbar-label">{{ button.label }}</span>
            </button>
            <hr v-if="section.divider" class="toolbar-divider" />
        </div>
    </div>
</template>

<script>
export default {
    data() {
        return {
            toolbarSections: [
                {
                    buttons: this.getToolbarButtons1(),
                    divider: true,
                },
                {
                    buttons: this.getToolbarButtons2(),
                    divider: true,
                },
                {
                    buttons: this.getToolbarButtons3(),
                    divider: true,
                },
                {
                    buttons: this.getToolbarButtons4(),
                    divider: true,
                },
                {
                    buttons: this.getToolbarButtons5(),
                },
            ],
        };
    },
    methods: {
        getToolbarButtons1() {
            return [
                {
                    label: '撤销',
                    icon: '<path d="M7.2 4.525a.875.875 0 1 0-1.4-1.05l-2.1 2.8a2.875 2.875 0 0 0 0 3.45l2.1 2.8a.875.875 0 0 0 1.4-1.05l-1.95-2.6h9.25a5.125 5.125 0 1 1 0 10.25h-6a.875.875 0 1 0 0 1.75h6a6.875 6.875 0 0 0 0-13.75H5.25l1.95-2.6Z" />',
                    disabled: true,
                    onClick: () => { this.executeUndo(); }
                },
                {
                    label: '重做',
                    icon: '<path d="M17.3 4.525a.875.875 0 0 1 1.4-1.05l2.1 2.8a2.875 2.875 0 0 1 0 3.45l-2.1 2.8a.875.875 0 0 1-1.4-1.05l1.95-2.6H10a5.125 5.125 0 1 0 0 10.25h6a.875.875 0 0 1 0 1.75h-6a6.875 6.875 0 1 1 0-13.75h9.25l-1.95-2.6Z" />',
                    disabled: true,
                    onClick: () => { this.executeRedo(); }
                },
                {
                    label: '清除格式',
                    icon: '<path fill-rule="evenodd" d="M6.956 17.185c.435.365.985.565 1.552.565h5.245c.572 0 1.114-.253 1.482-.69l.213-.255 4.715-5.62a2.415 2.415 0 0 0-.298-3.401l-5.11-4.288a2.415 2.415 0 0 0-3.402.298l-6.858 8.174a2.415 2.415 0 0 0 .298 3.402l2.122 1.78.041.035Zm1.552-.935a.915.915 0 0 1-.588-.214l-.041-.034-2.122-1.781a.915.915 0 0 1-.113-1.29l6.859-8.173a.915.915 0 0 1 1.289-.113l5.11 4.288a.915.915 0 0 1 .112 1.289l-4.715 5.619-.213.254a.434.434 0 0 1-.333.155H8.508ZM17 21.75a.75.75 0 1 0 0-1.5H5a.75.75 0 0 0 0 1.5h12Z" clip-rule="evenodd"></path>',
                    disabled: false,
                    onClick: () => { this.clearFormatting(); }
                }
            ];
        },
        getToolbarButtons2() {
            return [
                {
                    label: '加粗',
                    icon: '<path fill-rule="evenodd" d="M5.324 3.987a.75.75 0 0 1 .75-.75h5.28c3.393 0 5.489 2.296 5.489 4.754 0 1.087-.236 2.386-1.024 3.431-.195.26-.42.496-.675.707.67.262 1.235.638 1.691 1.104.927.945 1.339 2.194 1.339 3.421a4.626 4.626 0 0 1-1.499 3.442c-1.016.933-2.504 1.493-4.423 1.493H6.074a.75.75 0 0 1-.75-.75V3.987Zm9.298 6.532c-.492.652-1.343 1.186-2.885 1.186H6.824V4.737h4.53c2.665 0 3.989 1.722 3.989 3.254 0 .906-.202 1.84-.721 2.528Zm-7.798 9.57v-6.884h5.877c1.486 0 2.46.462 3.063 1.078.61.622.91 1.473.91 2.371 0 .868-.33 1.709-1.014 2.337-.683.628-1.781 1.098-3.408 1.098H6.824Z" clip-rule="evenodd"/path>',
                    disabled: false,
                    onClick: () => { this.boldText(); }
                },
                {
                    label: '斜体',
                    icon: '<path d="M17.75 4a.75.75 0 0 1-.75.75h-3.283l-2.818 15.5H14a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1 0-1.5h3.374l2.818-15.5H9a.75.75 0 1 1 0-1.5h8a.75.75 0 0 1 .75.75Z" />',
                    disabled: false,
                    onClick: () => { this.italicText(); }
                },
                {
                    label: '下划线',
                    icon: '<path d="M5 20h14v2H5v-2zm7-18h2v12h-2V2z" />',
                    disabled: false,
                    onClick: () => { this.underlineText(); }
                }
            ];
        },
        getToolbarButtons3() {
            return [
                {
                    label: '注释',
                    icon: '<path d="M2.25 18.835a2.415 2.415 0 0 0 2.415 2.415h2.104a.75.75 0 0 0 0-1.5H4.665a.915.915 0 0 1-.915-.915V5.665c0-.505.41-.915.915-.915h2.104a.75.75 0 1 0 0-1.5H4.665A2.415 2.415 0 0 0 2.25 5.665v13.17Zm14.981.915a.75.75 0 0 0 0 1.5h2.104a2.415 2.415 0 0 0 2.415-2.415V5.665a2.415 2.415 0 0 0-2.415-2.415h-2.104a.75.75 0 0 0 0 1.5h2.104c.505 0 .915.41.915.915v13.17c0 .505-.41.915-.915.915h-2.104Zm-6.731-12a.75.75 0 0 0 0 1.5h1.25v7.25a.75.75 0 0 0 1.5 0V9c0-.69-.56-1.25-1.25-1.25h-1.5Z" />',
                    disabled: true,
                },
                {
                    label: '代码块',
                    icon: '<path fill-rule="evenodd" d="M10.13 20.727a.75.75 0 0 1-.593-.88l2.977-15.214a.75.75 0 1 1 1.472.288l-2.977 15.214a.75.75 0 0 1-.88.592ZM8.03 6.47a.75.75 0 0 1 0 1.06L3.56 12l4.47 4.47a.75.75 0 0 1-1.06 1.06l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 0 1 1.06 0Zm7.94 1.06a.75.75 0 0 1 1.06-1.06l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 1 1-1.06-1.06L20.44 12l-4.47-4.47Z" clip-rule="evenodd"/>',
                    disabled: true,
                },
                {
                    label: '列表',
                    icon: '<path fill-rule="evenodd" d="M3.25 9.027a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM3.25 19.027a.75.75 0 0 1 .75-.75h11.5a.75.75 0 1 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM3.25 5A.75.75 0 0 1 4 4.25h15a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 5ZM3.25 15a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"/>',
                    disabled: true,
                },
                {
                    label: '引用',
                    icon: '<path d="M3.997 12.72v5.5c0 .967.784 1.75 1.75 1.75h3.3a1.95 1.95 0 0 0 1.95-1.95v-4.1a1.95 1.95 0 0 0-1.95-1.95H5.517c.05-.907.19-1.585.388-2.146.249-.706.601-1.268 1.054-1.914.36-.512.944-.983 1.484-1.341a9.64 9.64 0 0 1 .921-.539l.012-.005.001-.001a.75.75 0 0 0-.65-1.352l-.004.002-.006.003-.02.01a5.943 5.943 0 0 0-.306.161c-.2.11-.474.27-.778.471-.593.394-1.362.989-1.881 1.73-.477.679-.924 1.375-1.242 2.277-.318.902-.493 1.97-.493 3.395Zm1.5 5.5c0 .139.112.25.25.25h3.3a.45.45 0 0 0 .45-.45v-4.1a.45.45 0 0 0-.45-.45h-3.55v4.75ZM12.997 12.72v5.5c0 .967.784 1.75 1.75 1.75h3.3a1.95 1.95 0 0 0 1.95-1.95v-4.1a1.95 1.95 0 0 0-1.95-1.95H14.517c.05-.907.19-1.585.388-2.146.249-.706.601-1.268 1.054-1.914.36-.512.944-.983 1.484-1.341a9.654 9.654 0 0 1 .921-.539l.011-.005.002-.001a.75.75 0 0 0-.65-1.352l-.004.002-.005.003-.02.01a6.099 6.099 0 0 0-.307.161c-.2.11-.474.27-.778.471-.593.394-1.362.989-1.881 1.73-.477.679-.924 1.375-1.242 2.277-.318.902-.493 1.97-.493 3.395Zm1.5 5.5c0 .139.112.25.25.25h3.3a.45.45 0 0 0 .45-.45v-4.1a.45.45 0 0 0-.45-.45h-3.55v4.75Z"/>',
                    disabled: true,
                },
            ];
        },
        getToolbarButtons4() {
            return [
                {
                    label: '链接',
                    icon: '<path fill-rule="evenodd" d="M5.327 18.883a3.005 3.005 0 0 1 0-4.25l2.608-2.607a.75.75 0 1 0-1.06-1.06l-2.608 2.607a4.505 4.505 0 0 0 6.37 6.37l2.608-2.607a.75.75 0 0 0-1.06-1.06l-2.608 2.607a3.005 3.005 0 0 1-4.25 0Zm5.428-11.799a.75.75 0 0 0 1.06 1.06L14.48 5.48a3.005 3.005 0 0 1 4.25 4.25l-2.665 2.665a.75.75 0 0 0 1.061 1.06l2.665-2.664a4.505 4.505 0 0 0-6.371-6.372l-2.665 2.665Zm5.323 2.117a.75.75 0 1 0-1.06-1.06l-7.072 7.07a.75.75 0 0 0 1.061 1.06l7.071-7.07Z" clip-rule="evenodd"/>',
                    disabled: true,
                },
                {
                    label: '图片',
                    icon: '<path d="M2.625 6.5A3.875 3.875 0 0 1 6.5 2.625h11A3.875 3.875 0 0 1 21.375 6.5v11a3.875 3.875 0 0 1-3.875 3.875h-11A3.875 3.875 0 0 1 2.625 17.5v-11ZM6.5 4.375A2.125 2.125 0 0 0 4.375 6.5v8.223l1.928-1.23a3.875 3.875 0 0 1 3.757-.23l.744.357c.648.31 1.409.272 2.023-.102l3.718-2.265a.875.875 0 0 1 .91 1.494l-3.718 2.265a3.875 3.875 0 0 1-3.689.186l-.743-.356a2.125 2.125 0 0 0-2.06.126l-2.774 1.77a.886.886 0 0 1-.096.053v.709c0 1.174.951 2.125 2.125 2.125h11a2.125 2.125 0 0 0 2.125-2.125v-11A2.125 2.125 0 0 0 17.5 4.375h-11Z" />',
                    disabled: true,
                },
                {
                    label: '视频',
                    icon: '<path fill-rule="evenodd" d="M.625 7A3.875 3.875 0 0 1 4.5 3.125h11A3.875 3.875 0 0 1 19.375 7v.29l1.272-.603a1.875 1.875 0 0 1 2.678 1.694v7.338a1.875 1.875 0 0 1-2.678 1.694l-1.272-.602V17a3.875 3.875 0 0 1-3.875 3.875h-11A3.875 3.875 0 0 1 .625 17V7Zm18.75 7.878V9.222a.88.88 0 0 0 .075-.031l1.946-.923a.125.125 0 0 1 .179.113v7.338a.125.125 0 0 1-.179.113l-1.946-.923a.876.876 0 0 0-.075-.031ZM4.5 4.875A2.125 2.125 0 0 0 2.375 7v10c0 1.174.951 2.125 2.125 2.125h11A2.125 2.125 0 0 0 17.625 17V7A2.125 2.125 0 0 0 15.5 4.875h-11Z" clip-rule="evenodd"/>',
                    disabled: true,
                },
                {
                    label: '公式',
                    icon: '<path fill-rule="evenodd" d="M3.319 4.937A.75.75 0 0 1 4 4.5h9A.75.75 0 0 1 13 6H5.63l4.94 5.762a.75.75 0 0 1 .016.957L5.56 19H13a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.586-1.218l5.612-7.015-5.595-6.529a.75.75 0 0 1-.112-.801Zm12.245 6.703a.75.75 0 0 1 1.046.174l1.89 2.646 1.89-2.646a.75.75 0 1 1 1.22.872l-2.188 3.064 2.188 3.064a.75.75 0 1 1-1.22.872L18.5 17.04l-1.89 2.646a.75.75 0 1 1-1.22-.872l2.188-3.064-2.188-3.064a.75.75 0 0 1 .174-1.046Z" clip-rule="evenodd"/>',
                    disabled: true,
                },
                {
                    label: '表格',
                    icon: '<path fill-rule="evenodd" d="M5.062 20.243a2.415 2.415 0 0 1-2.415-2.415V6.173a2.415 2.415 0 0 1 2.415-2.415h13.875a2.415 2.415 0 0 1 2.415 2.415v11.655a2.415 2.415 0 0 1-2.415 2.415H5.063Zm-.915-2.415c0 .505.41.915.915.915h6.188V12.75H4.147v5.077Zm0-6.577h7.103V5.258H5.062a.915.915 0 0 0-.915.915v5.078Zm8.603 1.5v5.992h6.188c.505 0 .915-.41.915-.915V12.75H12.75Zm7.102-1.5H12.75V5.258h6.188c.505 0 .915.41.915.915v5.078Z" clip-rule="evenodd"/>',
                    disabled: true,
                },
                {
                    label: '附件',
                    icon: '<path fill-rule="evenodd" d="M10.836 6.355a4.072 4.072 0 0 0-4.016 4.756.75.75 0 0 1-.772.875 2.902 2.902 0 1 0-.13 5.802h.001l11.142-.035h.003a3.753 3.753 0 1 0-3.53-5.033.75.75 0 0 1-1.41-.512A5.255 5.255 0 0 1 22.318 14c0 2.9-2.352 5.253-5.252 5.253h-.001l-11.142.034h-.003a4.402 4.402 0 0 1-.655-8.756v-.104a5.572 5.572 0 0 1 9.85-3.57.75.75 0 1 1-1.15.962 4.062 4.062 0 0 0-3.128-1.464Z" clip-rule="evenodd"/>'
                }
            ];
        },
        getToolbarButtons5() {
            return [
                {
                    label: '草稿',
                    icon: '<path fill-rule="evenodd" d="M10.836 6.355a4.072 4.072 0 0 0-4.016 4.756.75.75 0 0 1-.772.875 2.902 2.902 0 1 0-.13 5.802h.001l11.142-.035h.003a3.753 3.753 0 1 0-3.53-5.033.75.75 0 0 1-1.41-.512A5.255 5.255 0 0 1 22.318 14c0 2.9-2.352 5.253-5.252 5.253h-.001l-11.142.034h-.003a4.402 4.402 0 0 1-.655-8.756v-.104a5.572 5.572 0 0 1 9.85-3.57.75.75 0 1 1-1.15.962 4.062 4.062 0 0 0-3.128-1.464Z" clip-rule="evenodd"></path>'
                }
            ]
        },
        handleButtonClick(button) {
            try {
                button.onClick();
            } catch (error) {
                console.error('Button click error:', error);
                alert('执行操作时发生错误，请重试。');
            }
        },
        executeUndo() {
            // 撤销逻辑
        },
        executeRedo() {
            // 重做逻辑
        },
        clearFormatting() {
            // 清除格式逻辑
        },
        boldText() {
            // 加粗逻辑
        },
        italicText() {
            // 斜体逻辑
        },
        underlineText() {
            // 下划线逻辑
        },
    },
};
</script>

<style scoped>
.toolbar {
    display: flex;
    width: 100%;
    /* 确保宽度为 100% */
    background-color: #1c2123;
    justify-content: space-between;
}

.toolbar-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    height: auto;
    width: 54px;
    margin-left: 4px;
    margin-right: 4px;
    color: #000;
    border-radius: 0;
    background-color: #fff;
}

.toolbar-divider {
    height: 60px;
    width: 4px;
    background-color: black;
    border: 0px;
}

.toolbar-section {
    display: flex;
    align-items: center;
}

.toolbar-label {
    width: auto;
    font-size: 10px;
    white-space: nowrap;
}
</style>
